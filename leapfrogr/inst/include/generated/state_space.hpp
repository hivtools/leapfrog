// Generated by leapfrog cpp_generation: do not edit by hand
// This file is automatically generated. Do not edit this file. If you want to make changes
// edit leapfrog json files in `cpp_generation/modelSchemas` and run `uv run ./src/main.py` inside
// the `cpp_generation` folder.

#pragma once

#include <array>

#include "concepts.hpp"
#include "../state_space_collector.hpp"

namespace leapfrog {
namespace internal {

struct BaseSS {
  static constexpr int MALE = 0;
  static constexpr int FEMALE = 1;
  static constexpr int ART0MOS = 0;
  static constexpr int PROJPERIOD_CALENDAR = 0;
  static constexpr int PROJPERIOD_MIDYEAR = 1;
  static constexpr int INCIDMOD_DIRECTINCID_HTS = 0;
  static constexpr int INCIDMOD_TRANSMRATE_HTS = 1;
};

enum ConfigsAndOverrides {
  Sp,
  Hc,
  HaOverride0,
  Ha,
  Dp
};

template<bool enable, ConfigsAndOverrides T>
struct SSPair;

template<MV ModelVariant, typename ...Ts>
struct SSMixer;

template<MV ModelVariant>
struct SSMixer<ModelVariant>: public BaseSS {
  static constexpr int p_idx_fertility_first = 15;
  static constexpr int p_fertility_age_groups = 35;
  static constexpr int p_idx_hiv_first_adult = 15;
  static constexpr int hIDX_15PLUS = 0;

  static void collect_ss(SSCollector& collector) {
    collector.add("p_idx_fertility_first", p_idx_fertility_first);
    collector.add("p_fertility_age_groups", p_fertility_age_groups);
    collector.add("p_idx_hiv_first_adult", p_idx_hiv_first_adult);
    collector.add("hIDX_15PLUS", hIDX_15PLUS);
  }
};

template<MV ModelVariant, ConfigsAndOverrides T, typename ...Ts>
struct SSMixer<ModelVariant, SSPair<false, T>, Ts...>: public SSMixer<ModelVariant, Ts...> {
  static void collect_ss(SSCollector& collector) {
    SSMixer<ModelVariant, Ts...>::collect_ss(collector);
  }
};

template<MV ModelVariant, typename ...Ts>
struct SSMixer<ModelVariant, SSPair<true, Sp>, Ts...>: public SSMixer<ModelVariant, Ts...> {

  static void collect_ss(SSCollector& collector) {
    SSMixer<ModelVariant, Ts...>::collect_ss(collector);

  }
};

template<MV ModelVariant, typename ...Ts>
struct SSMixer<ModelVariant, SSPair<true, Hc>, Ts...>: public SSMixer<ModelVariant, Ts...> {
  static constexpr int hc1DS = 7;
  static constexpr int hc2DS = 6;
  static constexpr int hc2_agestart = 5;
  static constexpr int hcAG_end = 15;
  static constexpr int hc1AG = 5;
  static constexpr int hc1AG_c = 2;
  static constexpr int hc2AG = 10;
  static constexpr int hc2AG_c = 1;
  static constexpr int hc_infant = 2;
  static constexpr int hcTT = 4;
  static constexpr int hcTT_expanded = 5;
  static constexpr int hPS = 7;
  static constexpr int hVT_dropout = 3;
  static constexpr int hVT = 2;
  static constexpr int hBF = 18;
  static constexpr int hBF_coarse = 4;
  static constexpr int hcAG_coarse = 4;
  static constexpr int hAB_ind = 2;
  static constexpr int hAG_fert = 7;
  static constexpr int mtct_source = 11;
  static constexpr std::array<int, 15> hc_age_coarse = { 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3 };
  static constexpr std::array<int, 15> hc_age_coarse_cd4 = { 0, 0, 0, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2 };
  static constexpr std::array<std::array<double, 7>, 6> hc1_to_hc2_cd4_transition = {{ { 0.608439, 0.33873387, 0.2004, 0.095, 0.03880388, 0.0186157, 0.0 }, { 0.185181, 0.22262226, 0.2562, 0.1693, 0.09030903, 0.0186157, 0.0014 }, { 0.105789, 0.29352935, 0.3636, 0.3082, 0.27592759, 0.09921774, 0.00990099 }, { 0.055594, 0.09350935, 0.1074, 0.2497, 0.25992599, 0.16506585, 0.00710071 }, { 0.018498, 0.03550355, 0.0579, 0.1449, 0.25572557, 0.36350134, 0.04960496 }, { 0.026499, 0.01610161, 0.0145, 0.0329, 0.07930793, 0.33498366, 0.93199334 } }};
  static constexpr std::array<std::array<double, 6>, 7> hc2_to_ha_cd4_transition = {{ { 1.0, 1, 1, 0, 0, 0 }, { 0, 0, 0, 1.0, 0, 0 }, { 0, 0, 0, 0, 0.6665589, 0 }, { 0, 0, 0, 0, 0.3334411, 0 }, { 0, 0, 0, 0, 0, 0.35 }, { 0, 0, 0, 0, 0, 0.21 }, { 0, 0, 0, 0, 0, 0.44 } }};

  static void collect_ss(SSCollector& collector) {
    SSMixer<ModelVariant, Ts...>::collect_ss(collector);

    collector.add("hc1DS", hc1DS);
    collector.add("hc2DS", hc2DS);
    collector.add("hc2_agestart", hc2_agestart);
    collector.add("hcAG_end", hcAG_end);
    collector.add("hc1AG", hc1AG);
    collector.add("hc1AG_c", hc1AG_c);
    collector.add("hc2AG", hc2AG);
    collector.add("hc2AG_c", hc2AG_c);
    collector.add("hc_infant", hc_infant);
    collector.add("hcTT", hcTT);
    collector.add("hcTT_expanded", hcTT_expanded);
    collector.add("hPS", hPS);
    collector.add("hVT_dropout", hVT_dropout);
    collector.add("hVT", hVT);
    collector.add("hBF", hBF);
    collector.add("hBF_coarse", hBF_coarse);
    collector.add("hcAG_coarse", hcAG_coarse);
    collector.add("hAB_ind", hAB_ind);
    collector.add("hAG_fert", hAG_fert);
    collector.add("mtct_source", mtct_source);
    collector.add("hc_age_coarse", hc_age_coarse);
    collector.add("hc_age_coarse_cd4", hc_age_coarse_cd4);
    collector.add("hc1_to_hc2_cd4_transition", hc1_to_hc2_cd4_transition);
    collector.add("hc2_to_ha_cd4_transition", hc2_to_ha_cd4_transition);
  }
};

template<MV ModelVariant, typename ...Ts>
struct SSMixer<ModelVariant, SSPair<true, HaOverride0>, Ts...>: public SSMixer<ModelVariant, Ts...> {
  static constexpr std::array<int, 9> hAG_span = { 2, 3, 5, 5, 5, 5, 5, 5, 31 };
  static constexpr int hAG = 9;
  static constexpr int hAG_fertility = 8;
  static constexpr int hAG_15to49 = 8;

  static void collect_ss(SSCollector& collector) {
    SSMixer<ModelVariant, Ts...>::collect_ss(collector);

    collector.add("hAG_span", hAG_span);
    collector.add("hAG", hAG);
    collector.add("hAG_fertility", hAG_fertility);
    collector.add("hAG_15to49", hAG_15to49);
  }
};

template<MV ModelVariant, typename ...Ts>
struct SSMixer<ModelVariant, SSPair<true, Ha>, Ts...>: public SSMixer<ModelVariant, Ts...> {
  static constexpr std::array<int, 66> hAG_span = { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 };
  static constexpr int hDS = 7;
  static constexpr int hTS = 3;
  static constexpr int hAG = 66;
  static constexpr int pAG_fertility = 35;
  static constexpr int hAG_fertility = 35;
  static constexpr int pIDX_15to49 = 15;
  static constexpr int pAG_15to49 = 35;
  static constexpr int hIDX_15to49 = 0;
  static constexpr int hAG_15to49 = 35;
  static constexpr int HIV_STEPS_PER_YEAR = 10;

  static void collect_ss(SSCollector& collector) {
    SSMixer<ModelVariant, Ts...>::collect_ss(collector);

    collector.add("hAG_span", hAG_span);
    collector.add("hDS", hDS);
    collector.add("hTS", hTS);
    collector.add("hAG", hAG);
    collector.add("pAG_fertility", pAG_fertility);
    collector.add("hAG_fertility", hAG_fertility);
    collector.add("pIDX_15to49", pIDX_15to49);
    collector.add("pAG_15to49", pAG_15to49);
    collector.add("hIDX_15to49", hIDX_15to49);
    collector.add("hAG_15to49", hAG_15to49);
    collector.add("HIV_STEPS_PER_YEAR", HIV_STEPS_PER_YEAR);
  }
};

template<MV ModelVariant, typename ...Ts>
struct SSMixer<ModelVariant, SSPair<true, Dp>, Ts...>: public SSMixer<ModelVariant, Ts...> {
  static constexpr int NS = 2;
  static constexpr int pAG = 81;
  static constexpr int p_fertility_age_groups = 35;

  static void collect_ss(SSCollector& collector) {
    SSMixer<ModelVariant, Ts...>::collect_ss(collector);

    collector.add("NS", NS);
    collector.add("pAG", pAG);
    collector.add("p_fertility_age_groups", p_fertility_age_groups);
  }
};


template<MV ModelVariant>
using SSMixed = SSMixer<
  ModelVariant,
  SSPair<ModelVariant::run_spectrum_model, Sp>,
  SSPair<ModelVariant::run_child_model, Hc>,
  SSPair<ModelVariant::run_hiv_simulation && ModelVariant::use_coarse_stratification, HaOverride0>,
  SSPair<ModelVariant::run_hiv_simulation, Ha>,
  SSPair<ModelVariant::run_demographic_projection, Dp>
>;

} // namespace internal

template<internal::MV ModelVariant>
internal::SSMap get_ss() {
    using SS = internal::SSMixed<ModelVariant>;
    internal::SSMap map;
    internal::SSCollector collector{map};
    SS::collect_ss(collector);
    return map;
}

} // namespace leapfrog
